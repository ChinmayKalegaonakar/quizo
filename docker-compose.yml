  version : "3"
  services:
    login-service:
      image: loginservice
      build: loginService/
      restart: always
      network_mode: host
      hostname: localhost
      container_name: login-service
      ports:
        - "8091:8091"
      environment:
        - "SPRING_PROFILES_ACTIVE=prod"
      healthcheck:
        test: ["CMD", "curl", "-f", "http://localhost:8091"]
        interval: 4m30s
        timeout: 10s
        retries: 3

    admin-service:
      image: adminservice
      build: adminService/
      restart: always
      network_mode: host
      hostname: localhost
      container_name: admin-service
      ports:
        - "8092:8092"
      environment:
        - "SPRING_PROFILES_ACTIVE=prod"
      healthcheck:
        test: ["CMD", "curl", "-f", "http://localhost:8092"]
        interval: 4m30s
        timeout: 10s
        retries: 3

    employee-service:
      image: employeeservice
      build: employeeService/
      restart: always
      network_mode: host
      hostname: localhost
      container_name: employee-service
      ports:
        - "8093:8093"
      environment:
        - "SPRING_PROFILES_ACTIVE=prod"
      healthcheck:
        test: ["CMD", "curl", "-f", "http://localhost:8093"]
        interval: 4m30s
        timeout: 10s
        retries: 3

    hr-service:
      image: hrservice
      build: hrService/
      restart: always
      network_mode: host
      hostname: localhost
      container_name: hr-service
      ports:
        - "8094:8094"
      environment:
        - "SPRING_PROFILES_ACTIVE=prod"
      healthcheck:
        test: ["CMD", "curl", "-f", "http://localhost:8094"]
        interval: 4m30s
        timeout: 10s
        retries: 3
