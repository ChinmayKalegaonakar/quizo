stages:
    - clean
    - compile
    - test

cache:
    paths:
        - .m2/

variables:
    MAVEN_OPTS: "-Dmaven.repo.local=.m2"

clean_job:
    stage: clean
    tags:
        - immersive-runner-cgi
    image: maven:latest
    script:
        - mvn clean 

compile_job:
    stage: compile
    tags:
        - immersive-runner-cgi
    image: maven:latest
    script:
        - mvn compile 
test_job:
    stage: test
    tags:
        - immersive-runner-cgi
    image: maven:latest
    script:
        - mvn test